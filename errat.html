<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<title>勘误表</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="鸟窝,chaoyuepan,晁岳攀">
	<link
		href="https://google-fonts.mirrors.sjtug.sjtu.edu.cn/css?family=Quicksand:700|Roboto:400,400i,700&display=swap"
		rel="stylesheet">
	<link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
	<link id="theme-style" rel="stylesheet" href="assets/css/theme.css">

		<script>
		var _hmt = _hmt || [];
		(function() {
		var hm = document.createElement("script");
		hm.src = "https://hm.baidu.com/hm.js?5c727c1022c706e09abf9d3dad82c3e4";
		var s = document.getElementsByTagName("script")[0]; 
		s.parentNode.insertBefore(hm, s);
		})();
	</script>

</head>

<div class="container mt-5">
  <h1 class="text-center mb-4">勘误表</h1>


  <!-- 勘误列表 -->
  <p>大家读书读的非常仔细，感谢大家提供的勘误。明显错误的我整理到勘误表中了，一些建议或者语句不通顺的待商榷的保留在评论区，以后再出版的时候再斟酌</p>
  <p>欢迎大家在评论区贴出你们的读书笔记！</p>
  <table id="erratTable" class="table table-striped table-bordered">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">页码</th>
        <th scope="col">错误描述</th>
        <th scope="col">纠正建议</th>
        <th scope="col">提交者</th>
      </tr>
    </thead>
    <tbody>
      <!-- 在这里添加每一条勘误的信息，使用循环或手动添加 -->
      <tr>
        <td>3</td>
        <td>原文: 但是对于并行编程模型，...的性能提升有时候是巨大的</td>
        <td>建议: 但是对于并发编程模型，...的性能提升有时候是巨大的</td>
        <td>before80</td>
      </tr>
      <tr>
        <td>4</td>
        <td>原文: 并且设计了<code>对</code>线程更轻量级的协程</td>
        <td>建议: 并且设计了<code>比</code>线程更轻量级的协程</td>
        <td>guowei-gong</td>
      </tr>
      <tr>
        <td>5</td>
        <td>原文: 底层的add函数体中，<code>x / y</code></td>
        <td>建议: <code>x + y</code></td>
        <td>chengxiaoer233</td>
      </tr>
      <tr>
        <td>15</td>
        <td>原文: <code>if depth > 0</code></td>
        <td>建议: <code>if depth > 3</code></td>
        <td>SarielW</td>
      </tr>
      <tr>
        <td>16</td>
        <td>原文: 需要将这些状态加载到<code>集群</code>中</td>
        <td>建议: 需要将这些状态加载到<code>寄存器</code>中</td>
        <td>skyjerry</td>
      </tr>
      <tr>
        <td>25</td>
        <td>原文: TestCounter例子的wg没有设置数量</td>
        <td>建议: 在for循环外<code>wg.Add(64)</code>，或者在for循环的第一行<code>wg.Add(1)</code></td>
        <td>CZT0</td>
      </tr>
      <tr>
        <td>36</td>
        <td>原文: <code>mutexWaiterShift = iota // waiter开始的位, 3</code></td>
        <td>建议: <code>mutexWaiterShift = iota // waiter开始的位, 2</code></td>
        <td>iofeqkurrc42</td>
      </tr>
      <tr>
        <td>38</td>
        <td>原文: 图 2.10 第三列<code>未加速</code></td>
        <td>建议: <code>未加锁</code></td>
        <td>iofeqkurrc42</td>
      </tr>
      <tr>
        <td>45</td>
        <td>原文: 流程图第六行 "未加锁或饥饿状态 new +=1&lt;&lt;mutexWaiterShift"</td>
        <td>建议: "加锁或饥饿状态 new +=1&lt;&lt;mutexWaiterShift"。 其中的<code>未加锁</code> 要改成 <code>加锁</code></td>
        <td>illusionist-moon</td>
      </tr>
      <tr>
        <td>47</td>
        <td>原文: 也就是在 old 上加 <code>muexLocked</code> 锁标志</td>
        <td>建议: 也就是在 old 上加 <code>mutexLocked</code> 锁标志</td>
        <td>zzhaolei</td>
      </tr>
      <tr>
        <td>51</td>
        <td>原文: 然后第二个<code>Unlock</code>的调用会被阻塞</td>
        <td>建议: 然后第二个<code>Lock</code>的调用会被阻塞</td>
        <td>bswaterb</td>
      </tr>
      <tr>
        <td>60</td>
        <td>原文:token实现重入锁中的recursion字段</td>
        <td>建议: 修改成<code>atomic.Int64<code>,代码中对recursion字段使用原子操作</td>
        <td>songzhibin97</td>
      </tr>
      <tr>
        <td>61</td>
        <td>原文: NewConcurrencyMap使用了可变参数<code>size ...int</code></td>
        <td>建议: 不需要使用可变参数，修改为<code>size int</code>,方法体中也需要做相应的检查和修改</td>
        <td>shanliao420</td>
      </tr>
      <tr>
        <td>74</td>
        <td>原文: 注意此时<code>rw.readerWait</code>的值可能是负数</td>
        <td>建议: 注意此时<code>rw.readerCount</code>的值可能是负数</td>
        <td>某读者</td>
      </tr>
      <tr>
        <td>124</td>
        <td>原文: 7.1 线程安全的map</td>
        <td>建议: 7.1 内建map类型</td>
        <td>随风遁隐</td>
      </tr>
      <tr>
        <td>182</td>
        <td>原文: <code>ServerHTTP(c context.Context w http.ResponseWriter, r *http.Request)</code></td>
        <td>建议: <code>ServerHTTP(c context.Context, w http.ResponseWriter, r *http.Request)</code>, 漏掉了参数的逗号分隔符</td>
        <td>白明</td>
      </tr>
      <tr>
        <td>258</td>
        <td>原文: <code>var ch = make(chan int)</code></td>
        <td>建议: <code>var ch = make(chan struct{})</code></td>
        <td>白明</td>
      </tr>
      <tr>
        <td>230</td>
        <td>原文: <code>case v -> ch2:</code></td>
        <td>建议: <code>case ch2 <- v:</code></td>
        <td>hoywu</td>
      </tr>
      <tr>
        <td>270</td>
        <td>原文: <code>TryAcquire: 尝试请求 n 个资源。请求资源的阻塞方法</code></td>
        <td>建议: <code>TryAcquire: 尝试请求 n 个资源。请求资源的非阻塞方法</code></td>
        <td>hoywu</td>
      </tr>
      <tr>
        <td>323</td>
        <td>原文: 第19章 Go并发编程和调度器</td>
        <td>建议: 第19章 分布式并发原语</td>
        <td>鸟窝、白明</td>
      </tr>
      <tr>
        <td>326</td>
        <td>原文: <code>代表和 Redis 的会话</code></td>
        <td>建议: <code>代表和 etcd 的会话</code></td>
        <td>hoywu</td>
      </tr>
      <tr>
        <td></td>
        <td>before80 </td>
        <td>提供了一些段落更通顺的写法</td>
        <td>before80 </td>
      </tr>

    </tbody>
  </table>

  <script>
    var table = document.getElementById("erratTable");
    var rows = table.rows;
    var rowCount = rows.length;
    for (var i = 1; i < rowCount; i++) { 
      var cell1 = rows[i].insertCell(0); 
      cell1.innerHTML = i; 
      cell1.setAttribute("scope", "row");
      cell1.tagName = "TH";
    }
  </script>

  <!-- gitalk -->
    <div id="comments" class="utterances">
        <script src="https://utteranc.es/client.js"
                repo="smallnest/cpgo"
                issue-term="pathname"
                theme="github-light"
                crossorigin="anonymous"
                async>
        </script>
    </div>
</div>

<script src="path/to/bootstrap.bundle.min.js"></script>
</body>
</html>
